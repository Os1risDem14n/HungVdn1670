@model HungVdn1670.ViewModels.AdminChangePasswordViewModel
@{
    ViewBag.Title = "ShowStaffs";
}

<table class="table table-striped table-dark">
    <thead>
        <tr>
            <th scope="col">User Name</th>

            <th scope="col">Action</th>

        </tr>
    </thead>
    <tbody>
        @foreach (var user in Model.User)
        {
            <tr>
                <td>@user.UserName</td>

                <td>
                    @Html.ActionLink(
                                "Detail",
                                "Details",
                                "Staffs",
                                new { id = user.Id },
                                new { @class = "btn btn-primary" }
                                )
                    @Html.ActionLink(
                                "Edit",
                                "Edit",
                                "Staffs",
                                new { id = user.Id },
                                new { @class = "btn btn-info" }
                                )
                    @Html.ActionLink(
                                "Delete",
                                "Delete",
                                "Staffs",
                                new { id = user.Id },
                                new { @class = "btn btn-danger" }
                                )
                    @Html.ActionLink(
                               "Reset Password",
                               "ResetPasswordStaff",
                               "Account",
                               new { id = user.Id },
                               new { @class = "btn btn-warning" }
                               )
                    @Html.ActionLink(
                               "Change Password",
                               "AdminChangePassword",
                               "Account",
                               new { id = user.Id },
                               new { @class = "btn btn-dark" }
                               )
                    <button type="button" class="btn btn-light" data-toggle="modal" data-target="#exampleModal">
                        Change Password Test
                    </button>
                </td>

            </tr>
        }

    </tbody>
</table>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Change Password</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                @using (Html.BeginForm("AdminChangePassword", "Staff", new { @class = "user", role = "form" }))
                {
                                @Html.AntiForgeryToken()
                                @Html.ValidationSummary("", new { @class = "text-danger" })
                                <div class="form-group">
                                    @Html.PasswordFor(m => m.NewPassword, new { @class = "form-control form-control-user", placeholder = "New Password" })
                                </div>
                                <div class="form-group">
                                    @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control form-control-user", placeholder = "Confirm Password" })
                                </div>
                                <button type="submit" class="btn btn-primary btn-user btn-block">Change Passwords</button>
                 }              
            </div>

        </div>
    </div>
</div>
